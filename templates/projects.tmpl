<!DOCTYPE html>
<html lang="en" style="min-height: 95%; margin: 10px; position: relative">
{{ template "head.tmpl" -}}
<body style="min-height: 90%; height: 95%">
{{ template "header.tmpl" -}}
<main style="display: flex;">
    <section>
        <p>
            These are some projects I started or contributed to.
        </p>
        <section id="projects">
            {{ range . }}
                <section class="project-card">
                    <section>
                        <a href="{{ .Url }}">{{ .Title }}</a>
                        {{ $stars := .Stars }}{{ if gt $stars 0 }} {{ $stars }} ‚≠ê{{ end }}
                        <p class="project-role">{{ .Role }}</p>
                    </section>
                    <br style="display: block;margin-top: 2px;">
                    <section class="project-tags">
                        {{ range .Langs -}}
                            <p class="project-lang">{{ . }}</p>
                        {{- end }}
                        {{ range .Topics -}}
                            <p class="project-topic">{{ . }}</p>
                        {{- end }}
                    </section>
                    <br>
                    <p style="margin: 0 0 0 0;">{{ .Desc }}</p>
                </section>
            {{ end }}
        </section>
    </section>
</main>
<script defer>
    const langColors = new Map([
        ["dockerfile", "#384D54"],
        ["go", "#00ADD8"],
        ["java", "#B07219"],
        ["lua", "#000080"],
        ["perl", "#0298C3"],
        ["python", "#3572A5"],
        ["shell", "#89E051"],
    ]);
    for (const card of Array.from(document.getElementsByClassName("project-card"))) {
        const langs = Array.from(card.getElementsByClassName("project-tags")[0].getElementsByClassName("project-lang"))
        for (const lang of langs) {
            if (langColors.has(lang.innerText)) {
                lang.style.color = langColors.get(lang.innerText);
            }
        }
    }
</script>
<style>
    #projects {
        display: flex;
        flex-flow: row wrap;
    }

    .project-lang {
        float: left;
        margin-top: 0;
        margin-right: 5px;
        font-size: 14px
    }

    .project-topic {
        float: right;
        margin-top: 0;
        margin-left: 5px;
        font-size: 14px
    }

    .project-card {
        border: var(--secondary);
        border-width: 1px;
        border-style: solid;
        box-shadow: var(--secondary);
        margin: 5px 10px 5px 0;
        padding: 10px 10px 10px 10px;
        min-width: 300px;
        max-width: 300px;
        min-height: 150px;
    }

    .project-role {
        color: gray;
        display: inline;
        float: right;
        margin-top: 0;
        font-size: 14px
    }
</style>
{{ template "footer.tmpl" -}}
</body>
</html>
